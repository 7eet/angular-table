<div class="row mx-5 my-5" id="formContainer">
  <form class="example-form row " [formGroup]="contactForm">
    <div class="col-lg-2 mr-4">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>First Name</mat-label>
        <input matInput required formControlName="first_name" />
        <mat-error *ngIf="submitted">
          <p class="text-danger" *ngIf="first_name?.errors?.required">First Name is required</p>
        </mat-error>  
      </mat-form-field>
    </div>

    <div class="col-lg-2 mr-4">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Last Name</mat-label>
        <input matInput required formControlName="last_name" />
        <mat-error *ngIf="submitted">
          <p class="text-danger" *ngIf="last_name?.errors?.required">Last Name is required</p>
        </mat-error>  
      </mat-form-field>
    </div>

    <div class="col-lg-2 mr-4">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput required formControlName="email" />
        <mat-error *ngIf="submitted">
          <p class="text-danger" *ngIf="email?.errors?.required">Email is required</p>
        </mat-error>  
        <!-- <div *ngIf="contactForm.email.errors">
          
        </div> -->
      
      </mat-form-field>
    </div>

    <div class="col-lg-2 mr-5">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Enter URL for Avatar </mat-label>
        <input matInput required formControlName="avatar" />

        <mat-error *ngIf="submitted" >
          <p class="text-danger" *ngIf="avatar?.errors?.required">Avatar is required</p>
        </mat-error>        
        
      </mat-form-field>
    </div>

    <div class="col-md-2">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        (click)="addDataToTable()"
      >
        <mat-icon>add</mat-icon> Add Row
      </button>
    </div>
  </form>
</div>

<div class="mx-md-5 mx-1">
  <div class="">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort class="mat-elevation-z8"
    >
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let user">{{ user.id }}</td>
      </ng-container>

      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
        <td mat-cell *matCellDef="let user">{{ user.first_name }}</td>
      </ng-container>

      <ng-container matColumnDef="last_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
        <td mat-cell *matCellDef="let user">{{ user.last_name }}</td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let user">{{ user.email }}</td>
      </ng-container>

      <ng-container matColumnDef="avatar">
        <th mat-header-cell *matHeaderCellDef>Avatar</th>
        <td mat-cell *matCellDef="let user">
          <img [src]="user.avatar" class="userImg" alt="user image" />
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
